!function(){"use strict";var e,n,t,_,r={},l=[],o=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function u(e,n){for(var t in n)e[t]=n[t];return e}function i(e){var n=e.parentNode;n&&n.removeChild(e)}function c(e,n,t){var _,r,l,o=arguments,u={};for(l in n)"key"==l?_=n[l]:"ref"==l?r=n[l]:u[l]=n[l];if(arguments.length>3)for(t=[t],l=3;l<arguments.length;l++)t.push(o[l]);if(null!=t&&(u.children=t),"function"==typeof e&&null!=e.defaultProps)for(l in e.defaultProps)void 0===u[l]&&(u[l]=e.defaultProps[l]);return s(e,u,_,r,null)}function s(n,t,_,r,l){var o={type:n,props:t,key:_,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==l?++e.__v:l};return null!=e.vnode&&e.vnode(o),o}function f(e){return e.children}function a(e,n){this.props=e,this.context=n}function h(e,n){if(null==n)return e.__?h(e.__,e.__.__k.indexOf(e)+1):null;for(var t;n<e.__k.length;n++)if(null!=(t=e.__k[n])&&null!=t.__e)return t.__e;return"function"==typeof e.type?h(e):null}function p(e){var n,t;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,n=0;n<e.__k.length;n++)if(null!=(t=e.__k[n])&&null!=t.__e){e.__e=e.__c.base=t.__e;break}return p(e)}}function d(r){(!r.__d&&(r.__d=!0)&&n.push(r)&&!v.__r++||_!==e.debounceRendering)&&((_=e.debounceRendering)||t)(v)}function v(){for(var e;v.__r=n.length;)e=n.sort((function(e,n){return e.__v.__b-n.__v.__b})),n=[],e.some((function(e){var n,t,_,r,l,o;e.__d&&(l=(r=(n=e).__v).__e,(o=n.__P)&&(t=[],(_=u({},r)).__v=r.__v+1,S(o,r,_,n.__n,void 0!==o.ownerSVGElement,null!=r.__h?[l]:null,t,null==l?h(r):l,r.__h),x(t,r),r.__e!=l&&p(r)))}))}function y(e,n,t,_,o,u,i,c,a,p){var d,v,y,k,b,C,H,x=_&&_.__k||l,A=x.length;for(t.__k=[],d=0;d<n.length;d++)if(null!=(k=t.__k[d]=null==(k=n[d])||"boolean"==typeof k?null:"string"==typeof k||"number"==typeof k||"bigint"==typeof k?s(null,k,null,null,k):Array.isArray(k)?s(f,{children:k},null,null,null):k.__b>0?s(k.type,k.props,k.key,null,k.__v):k)){if(k.__=t,k.__b=t.__b+1,null===(y=x[d])||y&&k.key==y.key&&k.type===y.type)x[d]=void 0;else for(v=0;v<A;v++){if((y=x[v])&&k.key==y.key&&k.type===y.type){x[v]=void 0;break}y=null}S(e,k,y=y||r,o,u,i,c,a,p),b=k.__e,(v=k.ref)&&y.ref!=v&&(H||(H=[]),y.ref&&H.push(y.ref,null,k),H.push(v,k.__c||b,k)),null!=b?(null==C&&(C=b),"function"==typeof k.type&&null!=k.__k&&k.__k===y.__k?k.__d=a=m(k,a,e):a=g(e,k,y,x,b,a),p||"option"!==t.type?"function"==typeof t.type&&(t.__d=a):e.value=""):a&&y.__e==a&&a.parentNode!=e&&(a=h(y))}for(t.__e=C,d=A;d--;)null!=x[d]&&("function"==typeof t.type&&null!=x[d].__e&&x[d].__e==t.__d&&(t.__d=h(_,d+1)),E(x[d],x[d]));if(H)for(d=0;d<H.length;d++)w(H[d],H[++d],H[++d])}function m(e,n,t){var _,r;for(_=0;_<e.__k.length;_++)(r=e.__k[_])&&(r.__=e,n="function"==typeof r.type?m(r,n,t):g(t,r,r,e.__k,r.__e,n));return n}function g(e,n,t,_,r,l){var o,u,i;if(void 0!==n.__d)o=n.__d,n.__d=void 0;else if(null==t||r!=l||null==r.parentNode)e:if(null==l||l.parentNode!==e)e.appendChild(r),o=null;else{for(u=l,i=0;(u=u.nextSibling)&&i<_.length;i+=2)if(u==r)break e;e.insertBefore(r,l),o=l}return void 0!==o?o:r.nextSibling}function k(e,n,t){"-"===n[0]?e.setProperty(n,t):e[n]=null==t?"":"number"!=typeof t||o.test(n)?t:t+"px"}function b(e,n,t,_,r){var l;e:if("style"===n)if("string"==typeof t)e.style.cssText=t;else{if("string"==typeof _&&(e.style.cssText=_=""),_)for(n in _)t&&n in t||k(e.style,n,"");if(t)for(n in t)_&&t[n]===_[n]||k(e.style,n,t[n])}else if("o"===n[0]&&"n"===n[1])l=n!==(n=n.replace(/Capture$/,"")),n=n.toLowerCase()in e?n.toLowerCase().slice(2):n.slice(2),e.l||(e.l={}),e.l[n+l]=t,t?_||e.addEventListener(n,l?H:C,l):e.removeEventListener(n,l?H:C,l);else if("dangerouslySetInnerHTML"!==n){if(r)n=n.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==n&&"list"!==n&&"form"!==n&&"tabIndex"!==n&&"download"!==n&&n in e)try{e[n]=null==t?"":t;break e}catch(e){}"function"==typeof t||(null!=t&&(!1!==t||"a"===n[0]&&"r"===n[1])?e.setAttribute(n,t):e.removeAttribute(n))}}function C(n){this.l[n.type+!1](e.event?e.event(n):n)}function H(n){this.l[n.type+!0](e.event?e.event(n):n)}function S(n,t,_,r,l,o,i,c,s){var h,p,d,v,m,g,k,b,C,H,S,x=t.type;if(void 0!==t.constructor)return null;null!=_.__h&&(s=_.__h,c=t.__e=_.__e,t.__h=null,o=[c]),(h=e.__b)&&h(t);try{e:if("function"==typeof x){if(b=t.props,C=(h=x.contextType)&&r[h.__c],H=h?C?C.props.value:h.__:r,_.__c?k=(p=t.__c=_.__c).__=p.__E:("prototype"in x&&x.prototype.render?t.__c=p=new x(b,H):(t.__c=p=new a(b,H),p.constructor=x,p.render=P),C&&C.sub(p),p.props=b,p.state||(p.state={}),p.context=H,p.__n=r,d=p.__d=!0,p.__h=[]),null==p.__s&&(p.__s=p.state),null!=x.getDerivedStateFromProps&&(p.__s==p.state&&(p.__s=u({},p.__s)),u(p.__s,x.getDerivedStateFromProps(b,p.__s))),v=p.props,m=p.state,d)null==x.getDerivedStateFromProps&&null!=p.componentWillMount&&p.componentWillMount(),null!=p.componentDidMount&&p.__h.push(p.componentDidMount);else{if(null==x.getDerivedStateFromProps&&b!==v&&null!=p.componentWillReceiveProps&&p.componentWillReceiveProps(b,H),!p.__e&&null!=p.shouldComponentUpdate&&!1===p.shouldComponentUpdate(b,p.__s,H)||t.__v===_.__v){p.props=b,p.state=p.__s,t.__v!==_.__v&&(p.__d=!1),p.__v=t,t.__e=_.__e,t.__k=_.__k,t.__k.forEach((function(e){e&&(e.__=t)})),p.__h.length&&i.push(p);break e}null!=p.componentWillUpdate&&p.componentWillUpdate(b,p.__s,H),null!=p.componentDidUpdate&&p.__h.push((function(){p.componentDidUpdate(v,m,g)}))}p.context=H,p.props=b,p.state=p.__s,(h=e.__r)&&h(t),p.__d=!1,p.__v=t,p.__P=n,h=p.render(p.props,p.state,p.context),p.state=p.__s,null!=p.getChildContext&&(r=u(u({},r),p.getChildContext())),d||null==p.getSnapshotBeforeUpdate||(g=p.getSnapshotBeforeUpdate(v,m)),S=null!=h&&h.type===f&&null==h.key?h.props.children:h,y(n,Array.isArray(S)?S:[S],t,_,r,l,o,i,c,s),p.base=t.__e,t.__h=null,p.__h.length&&i.push(p),k&&(p.__E=p.__=null),p.__e=!1}else null==o&&t.__v===_.__v?(t.__k=_.__k,t.__e=_.__e):t.__e=A(_.__e,t,_,r,l,o,i,s);(h=e.diffed)&&h(t)}catch(n){t.__v=null,(s||null!=o)&&(t.__e=c,t.__h=!!s,o[o.indexOf(c)]=null),e.__e(n,t,_)}}function x(n,t){e.__c&&e.__c(t,n),n.some((function(t){try{n=t.__h,t.__h=[],n.some((function(e){e.call(t)}))}catch(n){e.__e(n,t.__v)}}))}function A(e,n,t,_,o,u,c,s){var f,a,h,p,d=t.props,v=n.props,m=n.type,g=0;if("svg"===m&&(o=!0),null!=u)for(;g<u.length;g++)if((f=u[g])&&(f===e||(m?f.localName==m:3==f.nodeType))){e=f,u[g]=null;break}if(null==e){if(null===m)return document.createTextNode(v);e=o?document.createElementNS("http://www.w3.org/2000/svg",m):document.createElement(m,v.is&&v),u=null,s=!1}if(null===m)d===v||s&&e.data===v||(e.data=v);else{if(u=u&&l.slice.call(e.childNodes),a=(d=t.props||r).dangerouslySetInnerHTML,h=v.dangerouslySetInnerHTML,!s){if(null!=u)for(d={},p=0;p<e.attributes.length;p++)d[e.attributes[p].name]=e.attributes[p].value;(h||a)&&(h&&(a&&h.__html==a.__html||h.__html===e.innerHTML)||(e.innerHTML=h&&h.__html||""))}if(function(e,n,t,_,r){var l;for(l in t)"children"===l||"key"===l||l in n||b(e,l,null,t[l],_);for(l in n)r&&"function"!=typeof n[l]||"children"===l||"key"===l||"value"===l||"checked"===l||t[l]===n[l]||b(e,l,n[l],t[l],_)}(e,v,d,o,s),h)n.__k=[];else if(g=n.props.children,y(e,Array.isArray(g)?g:[g],n,t,_,o&&"foreignObject"!==m,u,c,e.firstChild,s),null!=u)for(g=u.length;g--;)null!=u[g]&&i(u[g]);s||("value"in v&&void 0!==(g=v.value)&&(g!==e.value||"progress"===m&&!g)&&b(e,"value",g,d.value,!1),"checked"in v&&void 0!==(g=v.checked)&&g!==e.checked&&b(e,"checked",g,d.checked,!1))}return e}function w(n,t,_){try{"function"==typeof n?n(t):n.current=t}catch(n){e.__e(n,_)}}function E(n,t,_){var r,l,o;if(e.unmount&&e.unmount(n),(r=n.ref)&&(r.current&&r.current!==n.__e||w(r,null,t)),_||"function"==typeof n.type||(_=null!=(l=n.__e)),n.__e=n.__d=void 0,null!=(r=n.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(n){e.__e(n,t)}r.base=r.__P=null}if(r=n.__k)for(o=0;o<r.length;o++)r[o]&&E(r[o],t,_);null!=l&&i(l)}function P(e,n,t){return this.constructor(e,t)}e={__e:function(e,n){for(var t,_,r;n=n.__;)if((t=n.__c)&&!t.__)try{if((_=t.constructor)&&null!=_.getDerivedStateFromError&&(t.setState(_.getDerivedStateFromError(e)),r=t.__d),null!=t.componentDidCatch&&(t.componentDidCatch(e),r=t.__d),r)return t.__E=t}catch(n){e=n}throw e},__v:0},a.prototype.setState=function(e,n){var t;t=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=u({},this.state),"function"==typeof e&&(e=e(u({},t),this.props)),e&&u(t,e),null!=e&&this.__v&&(n&&this.__h.push(n),d(this))},a.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),d(this))},a.prototype.render=f,n=[],t="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,v.__r=0;var T,D,F,N=0,U=[],M=e.__b,W=e.__r,L=e.diffed,q=e.__c,I=e.unmount;function R(n,t){e.__h&&e.__h(D,n,N||t),N=0;var _=D.__H||(D.__H={__:[],__h:[]});return n>=_.__.length&&_.__.push({}),_.__[n]}function X(e){return N=1,function(e,n,t){var _=R(T++,2);return _.t=e,_.__c||(_.__=[t?t(n):V(void 0,n),function(e){var n=_.t(_.__[0],e);_.__[0]!==n&&(_.__=[n,_.__[1]],_.__c.setState({}))}],_.__c=D),_.__}(V,e)}function z(n,t){var _=R(T++,3);!e.__s&&G(_.__H,t)&&(_.__=n,_.__H=t,D.__H.__h.push(_))}function B(e){return N=5,function(e,n){var t=R(T++,7);return G(t.__H,n)&&(t.__=e(),t.__H=n,t.__h=e),t.__}((function(){return{current:e}}),[])}function O(){U.forEach((function(n){if(n.__P)try{n.__H.__h.forEach($),n.__H.__h.forEach(j),n.__H.__h=[]}catch(t){n.__H.__h=[],e.__e(t,n.__v)}})),U=[]}e.__b=function(e){D=null,M&&M(e)},e.__r=function(e){W&&W(e),T=0;var n=(D=e.__c).__H;n&&(n.__h.forEach($),n.__h.forEach(j),n.__h=[])},e.diffed=function(n){L&&L(n);var t=n.__c;t&&t.__H&&t.__H.__h.length&&(1!==U.push(t)&&F===e.requestAnimationFrame||((F=e.requestAnimationFrame)||function(e){var n,t=function(){clearTimeout(_),Y&&cancelAnimationFrame(n),setTimeout(e)},_=setTimeout(t,100);Y&&(n=requestAnimationFrame(t))})(O)),D=void 0},e.__c=function(n,t){t.some((function(n){try{n.__h.forEach($),n.__h=n.__h.filter((function(e){return!e.__||j(e)}))}catch(_){t.some((function(e){e.__h&&(e.__h=[])})),t=[],e.__e(_,n.__v)}})),q&&q(n,t)},e.unmount=function(n){I&&I(n);var t=n.__c;if(t&&t.__H)try{t.__H.__.forEach($)}catch(n){e.__e(n,t.__v)}};var Y="function"==typeof requestAnimationFrame;function $(e){var n=D;"function"==typeof e.__c&&e.__c(),D=n}function j(e){var n=D;e.__c=e.__(),D=n}function G(e,n){return!e||e.length!==n.length||n.some((function(n,t){return n!==e[t]}))}function V(e,n){return"function"==typeof n?n(e):n}const J=[],K=e=>{const n=new Set,t=()=>{const t=X()[1];return z((()=>(n.add(t),()=>n.delete(t))),J),e};return t.listeners=n,t.snapshot=()=>e,[t,t=>{e="function"==typeof t?t(e):t,n.forEach((n=>n(e)))}]};class Q{constructor(e,n){this.X=e,this.Y=n,this.buffer=new Uint32Array(Math.ceil(e*n/32))}get(e,n){const{X:t,Y:_,buffer:r}=this,l=(n<0?n%_+_:n%_)*t+(e<0?e%t+t:e%t);return r[l>>5]&1<<(31&l)?1:0}set(e,n,t){const _=n*this.X+e;t?this.buffer[_>>5]|=1<<(31&_):this.buffer[_>>5]&=~(1<<(31&_))}}const Z=(e,n,t=.25)=>{const _=new Q(e,n);for(let r=0;r<n;r++)for(let n=0;n<e;n++)Math.random()<t&&_.set(n,r,1);return _},ee=(ne=[2,3],te=[3],(e,n,t)=>{const _=e.get(n-1,t-1)+e.get(n,t-1)+e.get(n+1,t-1)+e.get(n-1,t)+e.get(n+1,t)+e.get(n-1,t+1)+e.get(n,t+1)+e.get(n+1,t+1);return e.get(n,t)?ne.includes(_):te.includes(_)});var ne,te;const _e=(e,n=ee)=>{const{X:t,Y:_}=e,r=new Q(t,_);for(let l=0;l<_;l++)for(let _=0;_<t;_++)n(e,_,l)&&r.set(_,l,1);return r},re=(e,n)=>{const t=Array(e);for(let _=0;_<e;_++)t[_]=n(_);return t},le=3,oe=128,ue=128,[ie,ce]=K(le),[se,fe]=K(oe),[ae,he]=K(ue),[pe,de]=K(Z(oe,ue)),[ve,ye]=K(!1),[me,ge]=K(0),ke=({x:e,y:n})=>{const t=ie();return c("td",{className:pe().get(e,n)?"cell cell-alive":"cell",style:{width:t,height:t}})},be=({y:e})=>{const n=se();return c("tr",null,re(n,(n=>c(ke,{key:n,x:n,y:e}))))},Ce=()=>{const e=ae();return c("table",{style:{tableLayout:"fixed"}},re(e,(e=>c(be,{key:e,y:e}))))},He=({onClick:e,children:n})=>c("button",{type:"button",onClick:e},n),Se=()=>{const e=ie(),n=se(),t=ae(),_=ve(),r=me();return c("aside",null,c("table",null,c("tbody",null,c("tr",null,c("td",null,"Cell Size:"),c("td",null,c("input",{type:"number",min:0,value:e,onChange:e=>ce(e.currentTarget.valueAsNumber)}))),c("tr",null,c("td",null,"World Width:"),c("td",null,c("input",{type:"number",min:0,value:n,onChange:e=>fe(e.currentTarget.valueAsNumber)}))),c("tr",null,c("td",null,"World Height:"),c("td",null,c("input",{type:"number",min:0,value:t,onChange:e=>he(e.currentTarget.valueAsNumber)}))))),_?c(He,{onClick:()=>ye(!1)},"Stop"):c(He,{onClick:()=>ye(!0)},"Start"),c(He,{onClick:()=>de(Z(n,t))},"Randomize"),c("div",null,r," fps"))},xe=({href:e,children:n})=>c("a",{target:"_blank",rel:"noopener noreferrer",href:e},n);!function(n,t,_){var o,u,i;e.__&&e.__(n,t),u=(o="function"==typeof _)?null:_&&_.__k||t.__k,i=[],S(t,n=(!o&&_||t).__k=c(f,null,[n]),u||r,r,void 0!==t.ownerSVGElement,!o&&_?[_]:u?null:t.firstChild?l.slice.call(t.childNodes):null,i,!o&&_?_:u?u.__e:t.firstChild,o),x(i,n)}(c((()=>{const e=se(),n=ae(),t=ve(),[_,r]=X(void 0),l=B(!0);return z((()=>{t?r((()=>((e,n)=>{let t=0,_=Date.now(),r=0,l=requestAnimationFrame((function n(){r||(e(),t++,l=requestAnimationFrame(n))})),o=setInterval((()=>{let e=Date.now();n(1e3*t/(e-_)|0),t=0,_=e}),512);return()=>{r=1,cancelAnimationFrame(l),clearInterval(o)}})((()=>de(_e)),ge))):(_?.(),r(void 0))}),[t]),z((()=>{l.current?l.current=!1:de(Z(e,n))}),[e,n]),c(f,null,c("h1",{style:{textAlign:"center"}},c(xe,{href:"https://preactjs.com/"},"Preact")," + ",c(xe,{href:"https://github.com/luncheon/preact-shared-state-hook"},"preact-shared-state-hook")),c("main",null,c(Ce,null),c(Se,null)))}),null),document.body.appendChild(document.createElement("div")))}();
